(this["webpackJsonpreact-recruitment-task"]=this["webpackJsonpreact-recruitment-task"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/_resized_1280.6022c4d4.jpg"},12:function(e,t,a){e.exports=a.p+"static/media/_resized_300.353f8ae3.jpg"},20:function(e,t,a){},24:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAAMABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAUGBwj/xAAiEAABAwQCAwEBAAAAAAAAAAACAQMEBQYREgAHExQhIjH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A7fvyv3J0DeFRvSXLn3L1PUzF2txXFJ+VaziCgrNYT6RwVQUV5pMkyuXQyCuCDvtDuxaKNGt+w48S8L+uWP7NFgA/mG1F+ZqMt0M+OGGwrsmScJRbbQiJMasqZTC/zkN1h0hY3TK1lbMt2NQlq8j2ZfgUizjOjQbKvjZDY9GQ1bDctRHZcgw60s+o2PaEWm1i5J93VlTckTqxUPyUh9wlM/G0i6stIq6g0PwAQUyS5JTlTw4H/9k="},26:function(e,t,a){e.exports=a(40)},3:function(e,t,a){e.exports=a.p+"static/media/_resized_768.59595eb8.jpg"},31:function(e,t,a){},34:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=34},37:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),s=a.n(o),l=(a(31),a(4)),i=a(5),c=a(7),m=a(6),d=a(8),u=(a(20),a(44)),h=a(45),g=(n.Component,a(10)),p=[{id:1,name:"Holidays"},{id:2,name:"Short Breaks"},{id:3,name:"Destinationss"},{id:3,name:"Restaurants"}];var A=a(42),v=[{id:1,userId:1,category_id:4,image:a(3),largeImage:a(11),middleImage:a(3),smallImage:a(12),updated:"Mon Mar 24 2020 09:01:51 GMT+0000 (Greenwich Mean Time)",title:"Natural history TV 'boosts species awareness",comments:0,body:"Programmes, such as Sir David Attenborough's Planet Earth II series, boost people's awareness and interest in species, a study has suggested. Despite lacking an overt conservation message, the programmes stimulated people to find out more about the species featured in the broadcasts."},{id:2,userId:1,category_id:3,image:a(3),largeImage:a(11),middleImage:a(3),smallImage:a(12),updated:"Mon Mar 15 2020 09:01:51 GMT+0000 (Greenwich Mean Time)",title:"Climate change: Will planting millions of?",comments:0,body:"The UK government has pledged to plant millions a year while other countries have schemes running into billions. But are these grand ambitions achievable? How much carbon dioxide do trees really pull in from the atmosphere? And what happens to a forest, planted amid a fanfare, over the following decades?"},{id:3,userId:1,category_id:2,image:a(3),largeImage:a(11),middleImage:a(3),smallImage:a(12),updated:"Mon Mar 05 2020 09:01:51 GMT+0000 (Greenwich Mean Time)",title:"Ancient tsunami may have struck Falkland Islands",comments:0,body:"The Falkland Islands may at some point in the future face a major tsunami. Scientists have found evidence of ancient slope failures on the seafloor to the south of the British Overseas Territory."},{id:4,userId:1,category_id:1,image:a(3),largeImage:a(11),middleImage:a(3),smallImage:a(12),updated:"Mon Mar 10 2020 09:01:51 GMT+0000 (Greenwich Mean Time)",title:"The Cashmere crisis in the Himalayan ice deserte",comments:1,body:"Andrew Newey spent two conditions in Ladakh, in Indian-administered Kashmir. To accompany his photo series, Newey also learned about the history of Pashmina wool production, and the threats to the nomadic shepherds' way of life and traditions."},{id:5,userId:1,category_id:4,image:a(3),largeImage:a(11),middleImage:a(3),smallImage:a(12),updated:"Mon Mar 03 2020 09:01:51 GMT+0000 (Greenwich Mean Time)",allcomments:[{name:"kim",comment:"this is my comment"},{name:"kim",comment:"this is my comment"}],title:"Game-playing robot admits mistakes, plus other news",comments:2,body:"The UK government rules Chinese firm Huawei will be allowed to be used in non-sensitive areas of the country\u2019s 5G mobile network Yale University develops a game-playing robot capable of admitting its mistakes to help humans communicate better"},{id:6,userId:1,category_id:3,image:a(3),largeImage:a(11),middleImage:a(3),smallImage:a(12),updated:"Mon Mar 03 2020 09:01:51 GMT+0000 (Greenwich Mean Time)",title:"Reducing brain damage in losing the thrills",comments:0,body:"When Olympic gold medallist Shona McCallin was hit on the side of her head by a seemingly innocuous shoulder challenge, she suffered what was originally thought to be a concussion."}];function f(){return v}var b=function(e){var t=e.value,a=e.onChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"query",className:"form-control my-3",placeholder:"Search...",value:t,onChange:function(e){return a(e.currentTarget.value)}}))},y=a(16),E=a.n(y),w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={posts:[],categories:[],keywords:[],searchQuery:"",selectedCategory:null,imageSrc:""},n.handleImage=function(e){return a(34)(e)},n.handleSearch=function(e){n.setState({searchQuery:e,selectedCategory:null}),n.loadPageData()},n.handleCategorySelect=function(e){var t=e.target.value,a=n.state.selectedCategory,r=Object(g.a)(f()),o=Object(g.a)(f());n.setState({searchQuery:"",selectedCategory:t}),console.log(a),o=t&&"All Categories"!=t?r.filter((function(e){return e.category_id==t})):Object(g.a)(f()),n.setState({posts:o})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f());this.setState({posts:e});var t=[{_id:"",name:"All Categories"}].concat(Object(g.a)(p.filter((function(e){return e}))));this.setState({categories:t})}},{key:"loadPageData",value:function(){var e=this.state.searchQuery,t=Object(g.a)(f()),a=Object(g.a)(f());e&&(a=t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))),this.setState({posts:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchQuery,n=t.selectedCategory,o=new Date;return console.log(o),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",value:n,onChange:this.handleCategorySelect},this.state.categories.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement(b,{value:a,onChange:this.handleSearch}))),r.a.createElement("div",{class:"row"},this.state.posts.map((function(t){return r.a.createElement("div",{class:"col-lg-4 col-sm-6 col-xs-12",key:t.id},r.a.createElement("div",{class:"post-wrapper"},r.a.createElement(A.a,{to:"/viewpost/".concat(t.id)},r.a.createElement("img",{src:t.image,srcSet:"".concat(t.smallImage," 300w, \n                        ").concat(t.smallImage," 768w, \n                        ").concat(t.middleImage," 1280w"),onLoad:e.onLoad}),r.a.createElement("h4",null,t.title)),r.a.createElement("ul",{class:"ul-inline"},r.a.createElement("li",null,"Posted",r.a.createElement(E.a,{fromNow:!0},t.updated)),r.a.createElement("li",{class:"text-right"},t.comments," comments"))))}))))}}]),t}(n.Component),M=[{postId:5,name:"George",comment:"This is my comment",updated:"Mon Mar 20 2020 11:55:46 GMT+0000 (Greenwich Mean Time)"},{postId:5,name:"Linda",comment:"This is my comment 2",updated:"Mon Mar 21 2020 11:55:46 GMT+0000 (Greenwich Mean Time)"},{postId:4,name:"me",comment:"This is my comment 3",updated:"Mon Mar 22 2020 11:55:46 GMT+0000 (Greenwich Mean Time)"}];function I(e){return console.log("saveComments"),M.push(e),console.log(M),M}var Q=a(14),j=a.n(Q),C=a(21),B=a(15),O=a(13),T=function(e){var t=e.name,a=e.label,n=e.error,o=Object(O.a)(e,["name","label","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",Object.assign({},o,{name:t,id:t,className:"form-control"})),n&&r.a.createElement("div",{className:"alert alert-danger"},n))},k=function(e){var t=e.name,a=e.label,n=e.error,o=Object(O.a)(e,["name","label","error"]);return r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("textarea",Object.assign({},o,{name:t,id:t,className:"form-control",rows:"3"})),n&&r.a.createElement("div",{className:"alert alert-danger"},n))},F=function(e){var t=e.name,a=e.label,n=e.error,o=Object(O.a)(e,["name","label","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",Object.assign({},o,{name:t,id:t,className:"form-control"})),n&&r.a.createElement("div",{className:"alert alert-danger"},n))},S=function(e){var t=e.name,a=e.label,n=e.options,o=e.value;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("select",{name:t,id:t,value:o,className:"form-control"},n.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))},U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.validate=function(){var e=j.a.validate(a.state.data,a.schema,{abortEarly:!1}).error;if(!e)return null;var t={},n=!0,r=!1,o=void 0;try{for(var s,l=e.details[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var i=s.value;t[i.path[0]]=i.message}}catch(c){r=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(B.a)({},t,n),o=Object(B.a)({},t,a.schema[t]),s=j.a.validate(r,o).error;return s?s.details[0].message:null},a.handleSubmit=function(e){e.preventDefault(),console.log("handleSubmit");var t=a.validate();console.log(t),a.setState({errors:t||{}}),t||a.doSubmit()},a.handleChange=function(e){var t=e.currentTarget,n=Object(C.a)({},a.state.errors),r=a.validateProperty(t);r?n[t.name]=r:delete n[t.name];var o=Object(C.a)({},a.state.data);o[t.name]=t.value,a.setState({data:o,errors:n})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"renderButton",value:function(e){return r.a.createElement("button",{disabled:this.validate(),className:"btn btn-primary"},e)}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,o=n.data,s=n.errors;return r.a.createElement(T,{type:a,name:e,value:o[e],label:t,onChange:this.handleChange,error:s[e]})}},{key:"renderHidden",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hidden",o=this.state.errors;return r.a.createElement(F,{type:n,name:e,value:a,label:t,onChange:this.handleChange,error:o[e]})}},{key:"renderTextarea",value:function(e,t){var a=this.state,n=a.data,o=a.errors;return r.a.createElement(k,{name:e,value:n[e],label:t,onChange:this.handleChange,error:o[e]})}},{key:"renderSelect",value:function(e,t,a){var n=this.state,o=n.data,s=n.errors;return r.a.createElement(S,{name:e,value:o[e],label:t,options:a,onChange:this.handleChange,error:s[e]})}}]),t}(n.Component),N=a(24),D=a.n(N),G=(a(37),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={post:{},comments:[],data:{name:"",comment:""},errors:{}},a.schema={name:j.a.string().required().label("Name"),comment:j.a.string().required().label("Comment")},a.doSubmit=function(){var e=a.state.data,t=a.props.match.params.id;console.log(a.state.post),e.postId=t,console.log(e);var n=I(e).filter((function(e){return e.postId==t}));a.setState({comments:n}),a.state.post.comments++},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"populatePost",value:function(){try{var e=this.props.match.params.id,t=f().filter((function(t){return t.id==e}));t=t[0],this.setState({post:t});var a=function(e){return M.filter((function(t){return t.postId===e}))}(t.id);this.setState({comments:a})}catch(n){n.response&&404===n.response.status&&console.log(n.response)}}},{key:"componentDidMount",value:function(){this.populatePost()}},{key:"render",value:function(){var e=this.state.post,t=new Date,a=!0;return 0==e.comments&&(a=!1),r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:e.image,srcSet:"".concat(e.smallImage," 300w, \n    ").concat(e.smallImage," 768w, \n    ").concat(e.largeImage," 1280w"),onLoad:this.onLoad}),r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.body),a&&r.a.createElement("div",{isComments:!0,className:"list-group list-comment"},r.a.createElement("p",null,"Comments  ",r.a.createElement("img",{src:D.a,alt:""})),this.state.comments.map((function(e){return r.a.createElement("div",{key:e.name,className:"comment"},r.a.createElement("p",null,"by ",e.name," ",r.a.createElement(E.a,{fromNow:!0},e.updated)),r.a.createElement("p",null,e.comment))}))),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("name","Name"),this.renderTextarea("comment","Comment"),this.renderButton("Post"),this.renderHidden("postId","",e.id),this.renderHidden("updated","",t)))}}]),t}(U)),x=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"container"},r.a.createElement(u.a,null,r.a.createElement(h.a,{path:"/viewpost/:id",component:G}),r.a.createElement(h.a,{path:"/",component:w}))))}}]),t}(n.Component);a(39),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(43);s.a.render(r.a.createElement(P.a,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.764fc239.chunk.js.map